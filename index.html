<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GlitchXshan Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>

<body>

<!-- HEADER -->
<header class="site-header">
  <img src="logo.jpg" class="site-logo">
  <h1>GlitchXshan Store</h1>
  <p>Premium OTT & AI Deals</p>

  <!-- CART BUTTON -->
  <a href="cart.html" class="cart-btn">ðŸ›’ Cart (<span id="cartCount">0</span>)</a>
</header>

<!-- PRODUCTS -->
<div class="products">

  <!-- PRIME -->
  <div class="product-card">
    <img src="prime.png">
    <h3>Prime Video</h3>

    <select onchange="updatePrice(this)">
      <option value="99">1 Month With Ads â€“ â‚¹99</option>
      <option value="129">1 Month No Ads â€“ â‚¹129</option>
      <option value="299">6 Months â€“ â‚¹299</option>
      <option value="499">12 Months â€“ â‚¹499</option>
    </select>

    <div class="price">â‚¹99</div>

    <button onclick="buyNow('Prime Video', this)">Buy Now</button>
    <button class="cart" onclick="addToCart('Prime Video', this)">Add to Cart</button>
  </div>

  <!-- SONY -->
  <div class="product-card">
    <img src="sonyliv.png">
    <h3>Sony LIV</h3>

    <select onchange="updatePrice(this)">
      <option value="99">1 Month â€“ â‚¹99</option>
    </select>

    <div class="price">â‚¹99</div>

    <button onclick="buyNow('Sony LIV', this)">Buy Now</button>
    <button class="cart" onclick="addToCart('Sony LIV', this)">Add to Cart</button>
  </div>

  <!-- HOTSTAR -->
  <div class="product-card">
    <img src="hotstar.png">
    <h3>Jio Hotstar</h3>

    <select onchange="updatePrice(this)">
      <option value="79">1 Month â€“ â‚¹79</option>
    </select>

    <div class="price">â‚¹79</div>

    <button onclick="buyNow('Jio Hotstar', this)">Buy Now</button>
    <button class="cart" onclick="addToCart('Jio Hotstar', this)">Add to Cart</button>
  </div>

</div>

<footer class="footer">
  Digital service only. No refund after delivery.
</footer>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];
updateCartCount();

function updatePrice(select){
  select.parentElement.querySelector(".price").innerText = "â‚¹" + select.value;
}

function buyNow(name, btn){
  const price = btn.parentElement.querySelector("select").value;
  window.location.href = `payment.html?product=${name}&price=${price}`;
}

function addToCart(name, btn){
  const price = btn.parentElement.querySelector("select").value;
  cart.push({name, price});
  localStorage.setItem("cart", JSON.stringify(cart));
  updateCartCount();
  alert("Added to cart");
}

function updateCartCount(){
  document.getElementById("cartCount").innerText = cart.length;
}
</script>

</body>
</html>